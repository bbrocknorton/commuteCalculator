<!--  to-do's:
 Create an alert if amount of commuting is over X amount//replace with modals
 directives for buttons to route to different results displays
 math for figuring out mortgage amount 

 change milesToWork to milesToWorkSimple in controller for all functions and same for simple
 change chartSVGGroup to chartSVGGroupSimple/simple
 -->

$scope.returnHome = function() {
    $scope.resultsChart = "home";
  };

  var minRoundSimple = function() {
    $scope.minsRoundSimple = $scope.minutesToWorkSimple * 2;
  };

  var hourRoundSimple = function() {
    $scope.hoursRoundSimple = $scope.minsRoundSimple / 60;
  };

  var eightHourRoundSimple = function() {
    $scope.eightHourRoundSimple = $scope.hoursRoundSimple / 8;
  };

  var fortyHourRoundSimple = function() {
    $scope.fortyHourRoundSimple = $scope.eightHourRoundSimple / 40;
  };

  var hourlyWageRoundSimple = function() {
    $scope.hourlyWageRoundSimple = $scope.avgHourlyWageSimple * $scope.hoursRoundSimple;
  };

  var milesRoundSimple = function() {
    $scope.milesDrivenRoundSimple = $scope.milesToWorkSimple * 2;
  };

  var irsRoundSimple = function() {
    $scope.irsRoundSimple = $scope.milesDrivenRoundSimple * .51;
  };

  var wageIrsRoundSimple = function() {
    $scope.wageIrsRoundSimple = $scope.irsRoundSimple + $scope.hourlyWageRoundSimple;
  };

  var minsWeekSimple = function() {
    $scope.minsWeekSimple = $scope.minsRoundSimple * 5;
  };

  var hoursWeekSimple = function() {
    $scope.hoursWeekSimple = $scope.hoursRoundSimple * 5;
  };

  var eightHourWeekSimple = function() {
    $scope.eightHourWeekSimple = $scope.eightHourRoundSimple * 5;
  };

  var fortyHourWeekSimple = function() {
    $scope.fortyHourWeekSimple = $scope.fortyHourRoundSimple * 5;
  };

  var hourlyWageWeekSimple = function() {
    $scope.hourlyWageWeekSimple = $scope.hourlyWageRoundSimple * 5;
  };

  var milesDrivenWeekSimple = function() {
    $scope.milesDrivenWeekSimple = $scope.milesDrivenRoundSimple * 5;
  };

  var irsWeekSimple = function() {
    $scope.irsWeekSimple = $scope.milesDrivenWeekSimple * .51;
  };

  var wageIrsWeekSimple = function() {
    $scope.wageIrsWeekSimple = $scope.hourlyWageWeekSimple + $scope.irsWeekSimple;
  };

  var minsTenSimple = function() {
    $scope.minsTenSimple = $scope.minsWeekSimple * 520;
  };

  var hoursTenSimple = function() {
    $scope.hoursTenSimple = $scope.hoursWeekSimple * 520;
  };

  var eightHourTenSimple = function() {
    $scope.eightHourTenSimple = $scope.eightHourWeekSimple * 520;
  };

  var fortyHourTenSimple = function() {
    $scope.fortyHourTenSimple = $scope.fortyHourWeekSimple * 520;
  };

  var hourlyWageTenSimple = function() {
    $scope.hourlyWageTenSimple = $scope.hourlyWageWeekSimple * 520;
  };

  var milesDrivenTenSimple = function() {
    $scope.milesDrivenTenSimple = $scope.milesDrivenWeekSimple * 520;
  };

  var irsTenSimple = function() {
    $scope.irsTenSimple = $scope.milesDrivenTenSimple * .51;
  };

 

  var wageIrsTenSimple = function() {
    $scope.wageIrsTenSimple = $scope.hourlyWageTenSimple + $scope.irsTenSimple;
    if ($scope.wageIrsTenSimple > 50000) {
      $('.modal').modal('toggle');
    }
  };

  var drawRoundTripBarsSimple = function() {
    var dataArray = [$scope.wageIrsRoundSimple];

    var width = 500;
    var height = 500;

    var widthScale = d3.scale.linear()
      .domain([d3.min(dataArray) * 0.9, d3.max(dataArray) * 1.1])
      .range([0, width]);

    var color = d3.scale.linear()
      .domain([d3.min(dataArray) * 0.9, d3.max(dataArray) * 1.1])
      .range(["yellow", "pink"]);

    var axis = d3.svg.axis()
      .ticks(2)
      .scale(widthScale);

    var bars = $scope.chartSVGGroupSimple.selectAll("rect")
      .data(dataArray);

    bars.exit().remove();

    bars.enter()
      .append("rect")
      .attr({
        'width': 0,
        'height': 50,
        'fill': function(d) {
          return color(d);
        },
        'y': function(d, i) {
          return i * 100;
        }
      });

    bars
      .transition()
      .attr("width", function(d) {
        console.log(widthScale(d), widthScale.range());
        return widthScale(d);
      });

    $scope.chartSVGGroupSimple.append("g")
      .attr("transform", "translate(0, 370)")
      .call(axis);
  };

  var drawWeekTripBarsSimple = function() {


    var dataArray = [$scope.wageIrsWeekSimple];

    var width = 500;
    var height = 500;

    var widthScale = d3.scale.linear()
      .domain([d3.min(dataArray) * 0.9, d3.max(dataArray) * 1.1])
      .range([0, width]);

    var color = d3.scale.linear()
      .domain([d3.min(dataArray) * 0.9, d3.max(dataArray) * 1.1])
      .range(["red", "black"]);

    var axis = d3.svg.axis()
      .ticks(5)
      .scale(widthScale);

    var bars = $scope.chartSVGGroupSimple.selectAll("rect")
      .data(dataArray);

    bars.exit().remove();

    bars.enter()
      .append("rect")
      .attr({
        'width': 0,
        'height': 50,
        'fill': function(d) {
          return color(d);
        },
        'y': function(d, i) {
          return i * 100;
        }
      });

    bars
      .transition(1500)
      .attr("width", function(d) {
        console.log(widthScale(d), widthScale.range());
        return widthScale(d);
      });

    $scope.chartSVGGroupSimple.append("g")
      .attr("transform", "translate(0, 370)")
      .call(axis);
  };

  var drawTenTripBarsSimple = function() {
  		
    var dataArray = [$scope.wageIrsTenSimple];

    var width = 500;
    var height = 500;

    var widthScale = d3.scale.linear()
      .domain([d3.min(dataArray) * 0.9, d3.max(dataArray) * 1.1])
      .range([0, width]);

    var color = d3.scale.linear()
      .domain([d3.min(dataArray) * 0.9, d3.max(dataArray) * 1.1])
      .range(["red", "gray"]);

    var axis = d3.svg.axis()
      .ticks(5)
      .scale(widthScale);

    var bars = $scope.chartSVGGroupSimple.selectAll("rect")
      .data(dataArray);

    bars.exit().remove();

    bars.enter()
      .append("rect")
      .attr({
        'width': 0,
        'height': 50,
        'fill': function(d) {
          return color(d);
        },
        'y': function(d, i) {
          return i * 100;
        }
      });

    bars
      .transition()
      .attr("width", function(d) {
        console.log(widthScale(d), widthScale.range());
        return widthScale(d);
      });

    $scope.chartSVGGroupSimple.append("g")
      .attr("transform", "translate(0, 370)")
      .call(axis);
  };


});